AT_SETUP([merge normalization edge case])

DIFF3=`which diff3 2>/dev/null`
if test -z "$DIFF3" ; then
  exit 77
fi

NEED_UNGZB64

MONOTONE_SETUP

AT_DATA(parent.gz.b64, [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
])

AT_DATA(left.gz.b64, [H4sICLiWEUIAA2wA3Rptb9u4+bt/BSdcUKmx3TS5dV2LYCtyvaFArxvartuQpgZt0TYvEqmR
lO3gcP3tex6SerVkO752u12axhb1vL+T0mA0ImbJNYFfs2REGypiqmKimSFyTpKckqWUt5rM
pSKpFNJIwZ4PAC3XTI0yJVc8ZjGZ84RpMqOCyBVTCtYIBwqK0DgmRsLFeDCY52JmuBTEsDSb
IEoYDQghiZzRhJiYK7zCT3JJpB4vmGFiFQbvf/jbd6/eBhaWzz3AJRE8QaFFN0YQESbie6C8
PBAneGTSLCgAFTO5EiS91ahUqI3iYjEGa6XUhMGJfpSa8T/tTzC0FKJogKiVMdiGzXLDwoya
5ZCMx+MIyFZmyXgMTDOp+QbJ3tZNBszh3uixl9iCXpIzKy6uwY9DRB6eQS4yOrsNqVpElhJL
NPOwQG7Y4Lem3ISw4AAbCsOH02OAwUAN6D0FLTShipGMKc3BIMKQlBkaU0MJncrc+DgJdT5b
EqoL3ZHElAPzF1ev9ZCsqOIy10RnbMZBzXlCFzoi6yUHrDUjawqEIaiWdMVspELQIgnFRu7q
jhieMhvRjiEKlcqYzzmLx3a9JjFcppolK6atKgrTQCoIai4ItQTIODUjxADhYBHx1+AK8DSZ
yeyOhF6AlAo+Z9pEY8IoyBrOh7fDVUSAVQZUkB78esaOMhoT0k+AOhRJgFsT1A25TYoY0de3
N0ALKAEJyEnIJXB32ITxsRqV3m/fJj/97F3WIh54NwQ3AISYxa0QRRQ0ZeiTJGcR8ZGC3O0K
Mg2MylkQ1aOuDLzZEsxeIxPkpxuXyFVEOZnKfOALAdZ35QGRirQvc4uLOPTUTsb0myByrIvI
RGlqadyNpuVxeEeiJUeKmRzJj+ab4xCn9PZIwyi+OA5TsR+PQvx8DNajGcTWMYifrj68e3QM
wyPxPkGMrsRRHI/G/PTu6uo4Jfci+qU5hW7zfNDKeBZzM5nJNIWGEU4p1HC2MbU2B+UJ++6K
B9XaiuscPhot/MOrd39/8bqcE0IP87lWFz0tf8cL57mAFLI1FLz87tX7v1aTR+hhOij6O1az
aqRJM2j6aCSAaA09SA7uN6p2YSYcObxshTnQAD+8f0YCmBCId8FC59PSXuCGjyKwfy1chIC4
ZGeqNHu2VhymjIZ5uRzPEqkZChINSiX9QAKfXvoINT5rVHgwkmIpDHuhKYt05WdQoKzsjj3I
D9xkxoRDAEFV0G+INvnnHaYpZiBsbUEtNBIurL1BZ8Vo7MwNwwNY3t4qvBfLejuD0ZbUQxtB
MSfAmEVgV83NMcW/YGRLtGbsqrOhSF3CFNnUMH+PUct5S7fTRkgxmYLKOIdMFPyXfjis5V8b
x09mk2ypIBD6MXBfoHJtCMM2Ty2u3QjUG7UwQI25SYEOp7WM1Zcwa1Rp4K9wDwHzEA4xGeVK
h9Q6QV+vcPB4XJhlC2xqwcBJFvJzfSSn04SNuYC9iAkNDkhAo1VzTGvehtyeKAYVAC4mM0Cc
WE1DDYMHsxNePCTl0NNtngaxYur7IsSwQPxiQnQ2YxlQAKEgbvIERFtSsWChTOKJWwGKgq2L
i6iwO6IMMa5L49dQLFQsq6SxaXDpCj2MwHWK10jJOsvK51DaSVT1hO2JsCcqU6YWTBGdZ5lU
pqazvXE+SRnIO0shf9GSQ6Lwo26uxnzbKltF5QuQCtTSLRooRdPUlu3FFlv65bhvkSqF2FKe
pXSmrRj2W1OBIYENWEnE97yEayzNAXa2+Xxk6Yzcnukj7F4/BsUHppz7GgX31MfLEoyEHHHB
jaWPnWqExQW+VCFR/2lupa2kfQrt9k2fVejxxhmtuVmOqJgx3Cq2TNVjMUcUxJjMU9vOTzRp
mIRYe7gOb3nvs/OxBj7AsvRwA59PNhu0jwt/NofmYg8aYEOwLL5bwNhf9AflfZLEMe2NnmA0
Mtwk7DEmUinUbtjzoCF1N3BT+l6CTuNRsfMNmor2xmq3KSHQ9hm1W5CGyP3x/v9g9wL4Imhq
vtNL9B7O2qXSYd6Er5VD7bg9MXKCc79UVN254R8PwyI/FA9JQfHA/cHWlE08/+fNKb9ksjVi
Fk3X821FIY6osBMTeHSnJ3Lu5CmAC7Frs3ztZGfHON+7OSBFWbRHhLUxOXhIg50KIEJL+EzJ
haLphG1gwtUTLmyAhH65jlwGsz1SBG8WMPb4tLPIHVbZAMbfrvURG4vkstDbb1u6Fn1QtZe9
cRprduBwmsItN0MNisCHlb7wQxGdKfYAVlpUUvXBBkG5e3T8/YxOy22Q6l4uSPsbNr5qcV62
zEp7x6XH1W5yam/WmqaqjaMuvFzGtA7uP4p/vHj75tWbvzwjDxD/AVlTTWawBdK47ZC4kUJY
CCXYBAmQ8ny0pncuHMawEcQmvqsmu8ryL5kTvZR5EjtMgqe/blbXyOXh65ffv3/oTopjGLJh
KeEpN25DJktDOIZ7+SFLqhY5HrRokBLQoqjCcobeOUgXOuFTgx1+8E2i7YkGg3tODfuV658r
9gtsR6jd8lZjpIfeNckcYKL7sdwcxtMfuBCbJUjrcz1zmqz6Yt9VR3y40RXcBA/qIIO3Yyes
XQL3eto1GcOPL2nd/Sapq0Qaj6gOwG6ZhNRPY5xkXl/oXK5RuodmFUi9BDUYVpZsUG3KV5o1
EHKnBWHDnTs7du5+mwdClU2qNdWxVmq/u1e6cTOsBstDUrDY7/Q1OtrVvH6d3Y/uASxU/fW0
Svqb76AXX6WDXr188/7l2/9FDz3gVIh8gU76lTaN7mfv1nG/Bnv73MWO1vpLGO/vsBe7Ouxu
1mUCfo12e/Ffbbf0N9huOyz4Vdot7VirW6SzC+M5NttkVGhfgeyrFBpfqbIvnWiWsBmeK4Lk
WcKwTjXeFwLMeFIAYTi5lgJUNUcEZMUIJAEaQw8aXrDPtuA7Ptp6/MeTGP6N8G9pFWDbAXp+
1gbd3teHQfyseDxZnosUgsmUmSUGuXuLJ7EvlSX8Fh8cEMg8bGpxrJjul/f6ZH0ymtyc/rn4
0i8IPUoQMlVQNJf2MctuKW5OT8b+S78Q014hKLj43zmDGQO9L6QTaJobsmQbEvMFNzvcdrI5
/aafK+/lGtzBSMNUTO/wVTR820/myomATRN7Jr68V+Ns3+6psFos/cM998QcX7gK4RNDL3zw
u4fmQVmuvGjFTYiSk+9RAjIiT598e3ZWfyRaiHr14R0IcJewANATaNUrF9WaFK+OBRdkzRj4
ji5k7XzdgAvtu05FRUm5wJetLsmTs+fFGswL+KD/4slZtQYKwpIVqFxDBhbz26e11RRK4BKW
z5/84Wkd+o5RS/Xx75Gwq3C1p6CZxEcPTAwJ/Jq7DGXa9m54Ep9GJLx2Yi8lGn59e3Ma6T9Z
TcuXIFHPayRzU2s6X9Y7oSAP64yiRkTVTvNw6T9jvncoSyoAAA==
])

AT_DATA(right.gz.b64, [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
BUWNiPL2Y7Hpv1y7w1GvLQAA
])

UNGZB64(parent.gz.b64, parent)
UNGZB64(left.gz.b64, left)
UNGZB64(right.gz.b64, right)

PARENT=fe24df7edf04cb06161defc10b252c5fa32bf1f7
LEFT=f4657ce998dd0e39465a3f345f3540b689fd60ad
RIGHT=1836ed24710f5b8943bed224cf296689c6a106c2

PVER=`SHA1(parent)`
LVER=`SHA1(left)`
RVER=`SHA1(right)`

AT_CHECK(test $PVER = $PARENT)
AT_CHECK(test $LVER = $LEFT)
AT_CHECK(test $RVER = $RIGHT)

AT_CHECK(MONOTONE fload <parent, [], [ignore], [ignore])
AT_CHECK(MONOTONE fload <left, [], [ignore], [ignore])
AT_CHECK(MONOTONE fload <right, [], [ignore], [ignore])

AT_CHECK(MONOTONE fmerge $PARENT $LEFT $RIGHT, [], [stdout], [ignore])
AT_CHECK(CANONICALISE(stdout))
AT_CHECK(mv stdout merge.monotone, [], [ignore], [ignore])

# in this case the output should be the same as right.
AT_CHECK(cmp merge.monotone right, [], [ignore], [ignore])

AT_CLEANUP
