#  -*- Autoconf -*-

AT_SETUP([external unit test of the line merger])

DIFF3=`which diff3 2>/dev/null`
if test -z "$DIFF3" ; then
  exit 77
fi

NEED_UNGZB64

MONOTONE_SETUP

AT_DATA(left.gz.enc, [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
])

AT_DATA(right.gz.enc, [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
])

AT_DATA(ancestor.gz.enc, [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
HA4KdSYAAA==
])

UNGZB64(left.gz.enc, left)
UNGZB64(right.gz.enc, right)
UNGZB64(ancestor.gz.enc, ancestor)

ANC=cec9ec2e479b700ea267e70feb5a4eb15155190d
LEFT=52f65363d555fecd3d2e887a207c3add0a949638
RIGHT=3ea0b30aa5c7b20329ce9170ff4d379522c8bcda

AVER=`SHA1(ancestor)`
LVER=`SHA1(left)`
RVER=`SHA1(right)`

AT_CHECK(test $AVER = $ANC, [], [ignore], [ignore])
AT_CHECK(test $LVER = $LEFT, [], [ignore], [ignore])
AT_CHECK(test $RVER = $RIGHT, [], [ignore], [ignore])

AT_CHECK(MONOTONE fload <ancestor, [], [ignore], [ignore])
AT_CHECK(MONOTONE fload <left, [], [ignore], [ignore])
AT_CHECK(MONOTONE fload <right, [], [ignore], [ignore])

AT_CHECK(MONOTONE fmerge $ANC $LEFT $RIGHT, [], [stdout], [ignore])
AT_CHECK(CANONICALISE(stdout))
AT_CHECK(mv stdout merge.monotone, [], [ignore], [ignore])

AT_CHECK(diff3 -E --merge left ancestor right, [], [stdout], [ignore])
AT_CHECK(mv stdout merge.diff3, [], [ignore], [ignore])

AT_CHECK(cmp merge.monotone merge.diff3, [], [ignore], [ignore])

AT_CLEANUP
